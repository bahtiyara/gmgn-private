import type { Token } from '@/api';
import st from './token-item.module.scss';

type Props = {
	data: Token;
};

export function TokenItem({ data }: Props) {
	const { name, logo, symbol, address } = data;

	return (
		<div className={st.item}>
			<div className={st.avatarContainer}>
				<img className={st.avatar} src={logo} />
			</div>
			<div className={st.main}>
				<div className={st.first}>
					<span>{symbol}</span>
					<span
						style={{
							flex: 1,
							color: ' var(--color-f2)',
							overflow: 'hidden',
							textOverflow: 'ellipsis',
							whiteSpace: 'nowrap',
						}}>
						{name}
					</span>
					<button>
						<IconBuy />
						<span>Buy</span>
					</button>
				</div>
				<div className={st.second}>
					<div className={st.left}>
						<div
							className={st.address}
							onClick={() => window.navigator.clipboard.writeText(address)}>
							<span>{startAndEnd(address)}</span>
							<IconCopy />
							<div className={st.divider} />
						</div>
					</div>
				</div>
				<div className={st.third}></div>
			</div>
		</div>
	);
}

const IconBuy = () => (
	<svg
		width="16"
		height="16"
		viewBox="0 0 16 16"
		xmlns="http://www.w3.org/2000/svg"
		fill="currentColor">
		<path d="M4.26432 8.60694L9.34672 2.49254L8.44919 7.06179H11.4892C11.6597 7.06179 11.7563 7.25729 11.6526 7.39273L6.65413 13.5077L7.47006 8.93845H4.42736C4.25648 8.93845 4.16 8.74228 4.26432 8.60694Z"></path>
		<path d="M7.40948 1.82059C8.96787 1.75357 8.36867 3.50908 8.00012 4.11257 7.76047 4.50499 8.93462 3.63123 9.23444 2.99511L9.59314 1.2807 7.76978 1.5188 7.40948 1.82059ZM8.56541 14.1872C7.00702 14.2543 7.63157 12.4646 8.00012 11.8611 8.23978 11.4686 7.04027 12.3766 6.74046 13.0127L6.38175 14.7271 8.20511 14.489 8.56541 14.1872Z"></path>
		<path d="M.280762 8.00012C.280762 3.73684 3.73684.280762 8.00012.280762 8.4376.280762 8.86657.317153 9.28419.387074 9.56122.433459 9.73217.707106 9.67218.981519L9.45601 1.97035C8.98907 1.85801 8.50154 1.7985 8.00012 1.7985 4.57506 1.7985 1.7985 4.57506 1.7985 8.00012 1.7985 10.2746 3.02293 12.2631 4.84859 13.3424 5.07741 13.4777 5.18843 13.7555 5.09339 14.0038L4.91467 14.4706C4.80767 14.75 4.48469 14.8809 4.2238 14.7343 1.87059 13.4119.280762 10.8916.280762 8.00012ZM6.52076 14.0242 6.3159 15.023C6.26001 15.2955 6.43061 15.565 6.70491 15.6113 7.12604 15.6824 7.55875 15.7195 8.00012 15.7195 12.2634 15.7195 15.7195 12.2634 15.7195 8.00012 15.7195 5.11272 14.1342 2.59559 11.7865 1.27162 11.5314 1.12773 11.2144 1.24924 11.1001 1.51898L10.9072 1.97458C10.8006 2.22645 10.911 2.51584 11.1465 2.65481 12.975 3.73343 14.2017 5.72352 14.2017 8.00012 14.2017 11.4252 11.4252 14.2017 8.00012 14.2017 7.49029 14.2017 6.99483 14.1402 6.52076 14.0242Z"></path>
	</svg>
);
const IconCopy = () => (
	<svg
		width="14px"
		height="14px"
		viewBox="0 0 12 12"
		xmlns="http://www.w3.org/2000/svg"
		fill="currentColor">
		<path d="M10.9513 2.85078C10.9513 1.75312 10.0615 0.863281 8.96384 0.863281H3.76884C3.4996 0.863281 3.28134 1.08154 3.28134 1.35078C3.28134 1.62002 3.4996 1.83828 3.76884 1.83828H8.96384C9.52303 1.83828 9.97634 2.29159 9.97634 2.85078V8.6037C9.97634 8.87294 10.1946 9.0912 10.4638 9.0912C10.7331 9.0912 10.9513 8.87294 10.9513 8.6037V2.85078Z"></path>
		<path d="M8.71858 4.33231C8.71858 3.64886 8.16453 3.09481 7.48108 3.09481H2.28608C1.60263 3.09481 1.04858 3.64886 1.04858 4.33231V9.89992C1.04858 10.5834 1.60263 11.1374 2.28608 11.1374H7.48108C8.16453 11.1374 8.71858 10.5834 8.71858 9.89992V4.33231ZM7.48108 4.06981C7.62606 4.06981 7.74358 4.18734 7.74358 4.33231V9.89992C7.74358 10.0449 7.62606 10.1624 7.48108 10.1624H2.28608C2.14111 10.1624 2.02358 10.0449 2.02358 9.89992V4.33231C2.02358 4.18734 2.14111 4.06981 2.28608 4.06981H7.48108Z"></path>
	</svg>
);
function startAndEnd(str: string) {
	if (str.length > 10) {
		return (
			str.substring(0, 5) + '...' + str.substring(str.length - 5, str.length)
		);
	}
	return str;
}
